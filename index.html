<!DOCTYPE html>
<html lang="es">
 	<head>
		<meta charset="utf-8"/>
		<title>LEW. WEN personal Ángel</title>
		<link rel="stylesheet" title="basico" href="Layout.css"/>
		<link rel="stylesheet" title="basico" href="Main.css"/>
		<link rel="stylesheet" title="basico" href="Headerprincipal.css"/>
		<link rel="stylesheet" title="basico" href="Multimedia.css"/>
 	</head>
 
	<body>
		<script>

			window.onload = function(){

				//---Función de realizar la búsqueda
				function searchInText( word, html ) {

				    //---Eliminar los spans
				    html = html.replace(/<span class="finded">(.*?)<\/span>/g, "$1");

				    //---Crear la expresión regular que buscará la palabra
				    var reg = new RegExp(word.replace(/[\[\]\(\)\{\}\.\-\?\*\+]/, "\\$&"), "gi");
				    var htmlreg = /<\/?(?:a|b|br|em|font|img|p|span|strong)[^>]*?\/?>/g;

				    //---Añadir los spans
				    var array;
				    var htmlarray;
				    var len = 0;
				    var sum = 0;
				    var pad = 28 + word.length;

				    while ((array = reg.exec(html)) != null) {

				    	htmlarray = htmlreg.exec(html);
				 
				    	//---Verificar si la búsqueda coincide con una etiqueta html
				        if(htmlarray != null && htmlarray.index < array.index && htmlarray.index + htmlarray[0].length > array.index + word.length){

			        		reg.lastIndex = htmlarray.index + htmlarray[0].length;

			        		continue;

			        	}

			        	len = array.index + word.length;

				        html = html.slice(0, array.index) + "<span class='finded'>" + html.slice(array.index, len) + "</span>" + html.slice(len, html.length);

				        reg.lastIndex += pad;

				        if(htmlarray != null) htmlreg.lastIndex = reg.lastIndex;
				        
				        sum++;

				    }

				    return {total: sum, html: html};

				}

				//---Al presionar el botón de buscar
				document.getElementById("button").addEventListener("click", function(){

					var search = document.getElementById("search").value;

					if(search.length == 0) return;

				    var props = searchInText( search, document.getElementById("content").innerHTML );
				    
				    
				    if(props.total > 0) document.getElementById("content").innerHTML = props.html;

				});

			}

		</script>
		<nav>
			<ul>
				<li><a href="index.html" title="inicio">Inicio</a></li>
				<li><a href="aficiones.html" title="Aficiones">Aficiones</a></li>
				<li><a href="Portfolio.html" title="Portfolio">Portfolio</a></li>
				<li><a href="Viajes.html" title="Viajes">Viajes</a></li>
			</ul>
		</nav>

		<section class="controls">
			<h2>¿Que estas buscando?</h2>
			<input id="search" type="text" />
			<button class="button button1">Buscar</button>
		</section>

		<header>
			<h1>Soy Angel</h1>
			<h3>Software Developer</h3>
		</header>
	
		<section id="content">
			<h2> Os dejo mi ultimo video por aqui</h2>
			<div>
				<p>En este recopilatorio os muestro las ultimas fotos que he hecho. 
				Veréis fotos con mi familia, con mi mascota Brembo un perro muy juguetón y travieso. 
				De paso os dejo unas cuentas fotos con mis compañeros de mi trabajo, por si no os lo había dicho actualmente soy desarrollador en Capgemini. También he hecho fotos de mi viaje a Tenerife, me lo pase genial, pero por desgracias el coronavirus no me dejo disfrutarlo como de verdad se merece esa isla, tendré que volver!
				Me veréis viendo al Sporting en un partido de esta temporada, aunque no soy aficionado al futbol si se da la ocasión em gusta ir al estadio y disfrutar del ambiente. 
				Me gusta la fotografía pero no soy un gran profesional, las fotos las saco con mi móvil aunque siempre intento sacarle todo el partido a una puesta de sol en la playa.                                                                                                              
				</p>
				<video src="Mipelícula.mp4" controls></video>
			</div>
		</section>

		<footer>
			<h2> Datos de contacto</h2>
			<p>Calle Rio Sella 41 2 Izq, Oviedo</p> 
			<p>+34 675448178</p> 
			<p>Angelal.93@hotmail.es</p>
		</footer>  
 	</body>
</html>